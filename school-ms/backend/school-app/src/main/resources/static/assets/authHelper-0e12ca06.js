import{a as c,c as u}from"./index-c302092e.js";import"./mui-vendor-2642d531.js";import"./react-vendor-c0a3892c.js";import"./chart-vendor-22102d3f.js";const h=()=>{const s=c.create({baseURL:u.apiUrl,timeout:u.apiTimeout,withCredentials:!0,headers:{"Content-Type":"application/json","Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"}});return s.interceptors.request.use(t=>(console.log(`Auth request to ${t.url}`,{method:t.method,headers:t.headers,timestamp:new Date().toISOString()}),t)),s.interceptors.response.use(t=>t,t=>{var a,e,r,o,n,i;return console.error("Auth Request Error:",{status:(a=t.response)==null?void 0:a.status,statusText:(e=t.response)==null?void 0:e.statusText,data:(r=t.response)==null?void 0:r.data,url:(o=t.config)==null?void 0:o.url,method:(n=t.config)==null?void 0:n.method,headers:(i=t.config)==null?void 0:i.headers}),Promise.reject(t)}),s},p=async(s,t)=>{const a=h();try{let e=s;return!e.startsWith("/")&&!e.startsWith("http")?e=`/api/${s}`:e.startsWith("/")&&!e.startsWith("/api/")&&(e=`/api${e}`),(await a.post(e,t)).data}catch(e){throw console.error("Auth fetch failed:",e),e}},C={authFetch:p,createAuthRequest:h};export{p as authFetch,h as createAuthRequest,C as default};
//# sourceMappingURL=authHelper-0e12ca06.js.map
