import{c as d,a as m}from"./index-c302092e.js";import"./mui-vendor-2642d531.js";import"./react-vendor-c0a3892c.js";import"./chart-vendor-22102d3f.js";const k={testFeeStatusReport:async t=>{var s,l,u,c;try{const o=localStorage.getItem("user");let p="unknown",g="unknown";if(o)try{const e=JSON.parse(o);p=e.role||"unknown",g=e.username||"unknown",console.log(`User data from localStorage: ${g} (${p})`)}catch(e){console.error("Error parsing user data:",e)}let a=`${d.apiUrl}/api/fees/reports/fee-status`;t!=null&&(a+=`?classGrade=${t}`),console.log(`Testing fee status report with URL: ${a}`);const i=localStorage.getItem("token");if(i)try{const e=i.split(".");if(e.length===3){const r=JSON.parse(atob(e[1]));console.log("Token payload:",r),console.log("Token expiration:",new Date(r.exp*1e3).toLocaleString()),console.log("Token issued at:",new Date(r.iat*1e3).toLocaleString())}}catch(e){console.error("Error decoding token:",e)}const n=await m.get(a,{headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json",Accept:"application/json"}});return console.log("Fee status report successful response:",n.data),Array.isArray(n.data)?(console.log(`Received ${n.data.length} fee status report records`),n.data.forEach((e,r)=>{console.log(`Record ${r+1}:`,{studentId:e.studentId,studentName:e.studentName||e.feeName,totalAmount:e.totalAmount,paidAmount:e.paidAmount,remainingAmount:e.remainingAmount,status:e.status,isOverdue:e.isOverdue,hasPaymentData:!!e.paidAmount})})):console.log("Response is not an array. Actual type:",typeof n.data),n.data}catch(o){throw console.error("Error in test fee status report:",o),m.isAxiosError(o)&&(console.error("HTTP Status:",(s=o.response)==null?void 0:s.status),console.error("Response Data:",(l=o.response)==null?void 0:l.data),console.error("Request URL:",(u=o.config)==null?void 0:u.url),console.error("Request Headers:",(c=o.config)==null?void 0:c.headers)),o}},checkApiConfig:()=>{const t=d.apiUrl,s=!1;return console.log("API Configuration:",{apiUrl:t,environment:"production",isDevelopment:s}),{apiUrl:t,environment:"production",isDevelopment:s}}};export{k as debugApi,k as default};
//# sourceMappingURL=debug-api-d828a4a5.js.map
